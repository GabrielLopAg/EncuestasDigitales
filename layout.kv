<LoginScreen>:
    MDBoxLayout:        
        md_bg_color: self.theme_cls.backgroundColor
                

    MDCard:        
        style: "elevated"
        orientation: 'vertical'
        pos_hint: {"center_x": .5, "center_y": .5}        
        size_hint: None, None
        size: "300dp", "300dp"   
        radius: [20, 20, 20, 20]   
        spacing: 15


        MDBoxLayout:
            size_hint_y: None
            height: dp(40)
            orientation: 'horizontal'            

            canvas.before:
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [20, 20, 0, 0]  # Rounded top corners

            MDLabel:
                text: "Iniciar sesión"
                theme_text_color: 'Custom'
                text_color: 1, 1, 1, 1
                bold: True
                halign: 'center' 
                

        MDBoxLayout:        
            orientation: 'vertical'
            padding: [50, 90]
            spacing: 20

            MDTextField:
                id: input_email
                pos_hint: {"center_x": 0.5, "center_y": 0.5}            
                line_color_focus: 0,0,0,1

                MDTextFieldHintText:
                    text: "Correo electronico"
                
            MDTextField:
                id: input_password
                pos_hint: {"center_x": 0.5, "center_y": 0.52}            
                line_color_focus: 0,0,0,1
                password: True          

                MDTextFieldHintText:
                    text: "Contraseña"  


        MDBoxLayout:
            size_hint_y: None
            orientation: 'horizontal'
            spacing: 15     
            pos_hint: {"center_x": 0.5, "center_y": 1}

            AnchorLayout:
                MDButton:
                    on_press: 
                        root.manager.current = 'principal'                
                        root.manager.transition.direction = "left"
                    
                    MDButtonText:
                        text: "Iniciar sesión"
                        text_color: "red"                    
            AnchorLayout:
                MDButton: 
                    on_press: 
                        root.manager.current = 'register'                
                        root.manager.transition.direction = "left"   
                    
                    MDButtonText:
                        text: "Registrarse"
                        text_color: "red"

                
                    
<RegisterScreen>:    
    
    MDCard:
        size_hint: None, None        
        size: "300dp", "400dp"
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 50
        spacing: 20
        orientation: 'vertical'

        BoxLayout:
            size_hint_y: None
            height: dp(40)
            orientation: 'horizontal'
            padding: [20, 10]
            canvas.before:

                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [20, 20, 0, 0]  # Rounded top corners

            MDLabel:
                text: "Registro"
                theme_text_color: 'Custom'
                text_color: 1, 1, 1, 1
                bold: True
                halign: 'center' 
        

        MDTextField:
            id: input_nombre
            hint_text: "Nombre(s)"
            helper_text: ""
            pos_hint: {"center_x": 0.5, "center_y": 0.52}

            size_hint_x: 0.85
            line_color_focus: 0,0,0,1

        MDTextField:
            id: input_apellidos
            hint_text: "Apellidos"
            helper_text: ""
            pos_hint: {"center_x": 0.5, "center_y": 0.52}
            size_hint_x: 0.85
            line_color_focus: 0,0,0,1            


        MDTextField:
            id: input_email
            hint_text: "Correo electronico"
            helper_text: ""
            pos_hint: {"center_x": 0.5, "center_y": 0.52}
            size_hint_x: 0.85
            line_color_focus: 0,0,0,1


        MDTextField:
            id: input_password
            hint_text: "Contraseña"
            helper_text: ""
            pos_hint: {"center_x": 0.5, "center_y": 0.52}
            size_hint_x: 0.85
            line_color_focus: 0,0,0,1
            password: True


        MDButton: 
            pos_hint: {"center_x": 0.5}
            on_press: 
                root.manager.current = 'register'                
                root.manager.transition.direction = "left"   

            MDButtonIcon:
                icon: "plus"
            
            MDButtonText:
                text: "Registrarse"
                text_color: "red"

        

<PrincipalScreen>:    
    MDBoxLayout:        
        md_bg_color: self.theme_cls.backgroundColor

    
    MDScreen:
        md_bg_color: self.theme_cls.secondaryContainerColor

        MDTopAppBar:
            type: "small"   
            size_hint_x: 1
            pos_hint: {"center_x": .5, "center_y": .97}

            MDTopAppBarLeadingButtonContainer:

                MDActionTopAppBarButton:
                    icon: "menu"

            MDTopAppBarTitle:
                text: "Inicio"
            
    MDBoxLayout:
        size_hint_y: None
        orientation: 'vertical'        
        pos_hint: {"top": .5}  
        spacing: dp(5)
        padding: 20 
        
        MDCard:        
            adaptive_height: True            
            orientation: 'horizontal'     
            spacing: dp(5)            
            padding: 5,5
            elevation: 2
            on_press:                 
                root.manager.current = 'crear' 
                root.manager.transition.direction = "left"

            MDIcon:
                icon: "pencil-outline"                
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {"center_y": 0.5}
            
            MDBoxLayout:
                orientation: 'vertical'
                adaptive_height: True                 
                spacing: dp(5)

                MDLabel:
                    text: "Crear encuestas"
                    halign: 'left'
                    theme_text_color: 'Primary'
                    size_hint_y: None
                    height: self.texture_size[1]
                
                MDLabel:
                    text: "Ingrese aqui para crear una nueva encuesta"
                    halign: 'left'
                    theme_text_color: 'Secondary'
                    size_hint_y: None
                    height: self.texture_size[1]


        MDCard:            
            adaptive_height: True            
            orientation: 'horizontal'     
            spacing: dp(5)                        
            padding: 5,5
            elevation: 2
            on_release: 
                root.manager.current = "descargar" 
                root.manager.transition.direction = "left"
            
            MDIcon:
                icon: "download"                
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {"center_y": 0.5}
            
            MDBoxLayout:
                orientation: 'vertical'
                adaptive_height: True                
                spacing: dp(5)

                MDLabel:
                    text: "Descargar encuesta"
                    halign: 'left'
                    theme_text_color: 'Primary'
                    size_hint_y: None
                    height: self.texture_size[1]
                
                MDLabel:
                    text: "Ingrese aqui para descargar una encuesta y poder aplicarla sin necesidad de internet"
                    halign: 'left'
                    theme_text_color: 'Secondary'
                    size_hint_y: None
                    height: self.texture_size[1]


        MDCard:            
            adaptive_height: True            
            orientation: 'horizontal'     
            spacing: dp(5)                  
            padding: 5,5
            elevation: 2
            on_release: 
                root.manager.current = "aplicar" 
                root.manager.transition.direction = "left"
            
            MDIcon:
                icon: "account"               
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {"center_y": 0.5}
            
            MDBoxLayout:
                orientation: 'vertical'
                adaptive_height: True                
                spacing: dp(5)

                MDLabel:
                    text: "Aplicar nueva encuesta"
                    halign: 'left'
                    theme_text_color: 'Primary'
                    size_hint_y: None
                    height: self.texture_size[1]
                
                MDLabel:
                    text: "Ingrese aqui para aplicar una encuesta previamente descargada"
                    halign: 'left'
                    theme_text_color: 'Secondary'
                    size_hint_y: None
                    height: self.texture_size[1]


        MDCard:            
            adaptive_height: True            
            orientation: 'horizontal'     
            spacing: dp(5)                        
            padding: 5,5
            elevation: 2
            on_release: 
                root.manager.current = "generar" 
                root.manager.transition.direction = "left"
            
            MDIcon:
                icon: "folder"            
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {"center_y": 0.5}
            
            MDBoxLayout:
                orientation: 'vertical'
                adaptive_height: True                
                spacing: dp(5)

                MDLabel:
                    text: "Generar reportes"
                    halign: 'left'
                    theme_text_color: 'Primary'
                    size_hint_y: None
                    height: self.texture_size[1]
                
                MDLabel:
                    text: "Ingrese aqui para generar los reportes de las encuestas aplicadas"
                    halign: 'left'
                    theme_text_color: 'Secondary'
                    size_hint_y: None
                    height: self.texture_size[1]


        MDCard:            
            adaptive_height: True            
            orientation: 'horizontal'     
            spacing: dp(5)      
            padding: 5,5
            elevation: 2
            
            MDIcon:
                icon: "logout"          
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {"center_y": 0.5}
            
            MDBoxLayout:
                orientation: 'vertical'
                adaptive_height: True                
                spacing: dp(5)                

                MDLabel:
                    text: "Cerrar sesión"
                    halign: 'left'
                    theme_text_color: 'Primary'
                    size_hint_y: None
                    height: self.texture_size[1]
                
                MDLabel:
                    text: "Ingrese aqui para cerrar la sesión de su cuenta"
                    halign: 'left'
                    theme_text_color: 'Secondary'
                    size_hint_y: None
                    height: self.texture_size[1]
    
 
<CrearScreen>:    
    MDBoxLayout:        
        md_bg_color: self.theme_cls.backgroundColor


    MDScreen:
        md_bg_color: self.theme_cls.secondaryContainerColor

        MDTopAppBar:
            type: "small"   
            size_hint_x: 1
            pos_hint: {"center_x": .5, "center_y": .97}

            MDTopAppBarLeadingButtonContainer:

                MDActionTopAppBarButton:
                    icon: "menu"

            MDTopAppBarTitle:
                text: "Crear encuesta"
                

    MDBoxLayout:        
        orientation: 'vertical'
        size_hint_y: None      
        pos_hint: {"top": .7}  
        spacing: dp(30)
        padding: 70 

        MDTextField:
            id: form_id
            pos_hint: {"center_x": 0.5, "center_y": 0.5}            
            line_color_focus: 0,0,0,1

            MDTextFieldHintText:
                text: "Ingrese url del formulario"
            
        MDTextField:
            id: form_password
            pos_hint: {"center_x": 0.5, "center_y": 0.52}            
            line_color_focus: 0,0,0,1
            password: True          

            MDTextFieldHintText:
                text: "Ingrese contraseña para el formulario" 
    
        
        MDBoxLayout:        
            orientation: 'horizontal'                
            
            AnchorLayout:
                MDButton:
                               
                    on_press: 
                        root.manager.current = root.form()                                

                    MDButtonIcon:
                        icon: "plus"
                    
                    MDButtonText:                
                        text: "Crear"                    

            AnchorLayout:
                MDButton: 
                    on_press: 
                        root.manager.current = 'principal'                
                        root.manager.transition.direction = "right"   

                    MDButtonIcon:
                        icon: "keyboard-return"
                    
                    MDButtonText:                
                        text: "Regresar"                    



<DescargarScreen>:
    MDBoxLayout:        
        md_bg_color: self.theme_cls.backgroundColor

    
    MDScreen:
        md_bg_color: self.theme_cls.secondaryContainerColor

        MDTopAppBar:
            type: "small"   
            size_hint_x: 1
            pos_hint: {"center_x": .5, "center_y": .97}

            MDTopAppBarLeadingButtonContainer:

                MDActionTopAppBarButton:
                    icon: "menu"

            MDTopAppBarTitle:
                text: "Inicio"
            
    MDBoxLayout:
        size_hint_y: None
        orientation: 'vertical'        
        pos_hint: {"top": .7}  
        spacing: dp(5)
        padding: 10
        
        MDCard:        
            adaptive_height: True            
            orientation: 'horizontal'     
            spacing: dp(10)
            padding: 10,30
            elevation: 2
            on_press:                 
                root.manager.current = 'principal' 
                root.manager.transition.direction = "right"

            MDIcon:
                icon: "form-select"                
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {"center_y": 0.5}
            
            MDBoxLayout:
                orientation: 'vertical'
                adaptive_height: True                 
                
                MDLabel:
                    text: "Cédula de evaluación de la salud de las familias de los trabajadores"
                    halign: 'left'
                    theme_text_color: 'Primary'
                    size_hint_y: None
                    height: self.texture_size[1]
                
                MDButton:
                    pos_hint: {"center_x": .8}
                    on_press: 
                        root.manager.current = 'principal'                
                        root.manager.transition.direction = "left"  
                    MDButtonIcon:
                        icon: "download"
                    
                    MDButtonText:
                        text: "Descargar"                         


<AplicarScreen>:
    MDBoxLayout:        
        md_bg_color: self.theme_cls.backgroundColor

    
    MDScreen:
        md_bg_color: self.theme_cls.secondaryContainerColor

        MDTopAppBar:
            type: "small"   
            size_hint_x: 1
            pos_hint: {"center_x": .5, "center_y": .97}

            MDTopAppBarLeadingButtonContainer:

                MDActionTopAppBarButton:
                    icon: "menu"

            MDTopAppBarTitle:
                text: "Inicio"
            
    MDBoxLayout:
        size_hint_y: None
        orientation: 'vertical'        
        pos_hint: {"top": .5}  
        spacing: dp(5)
        padding: 20
        
        MDCard:        
            adaptive_height: True            
            orientation: 'horizontal'     
            spacing: dp(5)            
            padding: 5,5
            elevation: 2
            on_press:                 
                root.manager.current = 'principal' 
                root.manager.transition.direction = "right"

            MDIcon:
                icon: "pencil-outline"                
                size_hint: None, None
                size: dp(48), dp(48)
                pos_hint: {"center_y": 0.5}
            
            MDBoxLayout:
                orientation: 'vertical'
                adaptive_height: True                 
                spacing: dp(5)

                MDLabel:
                    text: "Crear encuestas"
                    halign: 'left'
                    theme_text_color: 'Primary'
                    size_hint_y: None
                    height: self.texture_size[1]
                
                MDLabel:
                    text: "Ingrese aqui para crear una nueva encuesta"
                    halign: 'left'
                    theme_text_color: 'Secondary'
                    size_hint_y: None
                    height: self.texture_size[1]   


<GenerarScreen>:
    MDBoxLayout:        
        md_bg_color: self.theme_cls.backgroundColor

    
    MDScreen:
        md_bg_color: self.theme_cls.secondaryContainerColor

        MDTopAppBar:
            type: "small"   
            size_hint_x: 1
            pos_hint: {"center_x": .5, "center_y": .97}

            MDTopAppBarLeadingButtonContainer:

                MDActionTopAppBarButton:
                    icon: "menu"

            MDTopAppBarTitle:
                text: "Inicio"
            
    MDBoxLayout:        
        orientation: 'vertical'
        padding: [50, 90]
        spacing: 20
        pos_hint: {"center_x": .5, "center_y": .97}

        MDTextField:
            id: input_email
            pos_hint: {"center_x": 0.5, "center_y": 0.5}            
            line_color_focus: 0,0,0,1

            MDTextFieldHintText:
                text: "Ingrese url del formulario"
            
        MDTextField:
            id: input_password
            pos_hint: {"center_x": 0.5, "center_y": 0.52}            
            line_color_focus: 0,0,0,1
            password: True          

            MDTextFieldHintText:     
                text: "Ingrese contraseña para el formulario"        


        MDBoxLayout:
            size_hint_y: None
            orientation: 'horizontal'
            spacing: 15     
            pos_hint: {"center_x": 0.5, "center_y": 1}

            MDButton:
                on_press: 
                    root.manager.current = 'principal'                
                    root.manager.transition.direction = "left"  
                
                MDButtonText:
                    text: "Generar"                    
                        

<UI>:
    id: screen_manager

    login_screen: login_screen
    register_screen: register_screen
    principal_screen: principal_screen
    crear_screen: crear_screen
    descargar_screen: descargar_screen
    aplicar_screen: aplicar_screen
    generar_screen: generar_screen

    LoginScreen:
        id: login_screen
        name: "login"
        manager: screen_manager

    RegisterScreen:
        id: register_screen
        name: "register"
        manager: screen_manager

    PrincipalScreen:
        id: principal_screen
        name: "principal"
        manager: screen_manager
    
    CrearScreen:
        id: crear_screen
        name: "crear"
        manager: screen_manager

    DescargarScreen:
        id: descargar_screen
        name: "descargar"
        manager: screen_manager

    AplicarScreen:
        id: aplicar_screen
        name: "aplicar"
        manager: screen_manager

    GenerarScreen:
        id: generar_screen
        name: "generar"
        manager: screen_manager