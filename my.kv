WindowManager:
    LoginWindow:
    MainWindow:
    DescargarWindow:
    AplicarWindow:
    GenerarWindow:
    CerrarWindow:


<LoginWindow>:
    name: "Login"

    MDCard:
        size_hint: None, None
        size: 600, 450
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 50
        spacing: 20
        orientation: 'vertical'

        MDTextField:
            id: input_email
            hint_text: "Correo electronico"
            helper_text: ""
            pos_hint: {"center_x": 0.5, "center_y": 0.52}

            size_hint_x: 0.85
            line_color_focus: 0,0,0,1


        MDTextField:
            id: input_password
            hint_text: "Contraseña"
            helper_text: ""
            pos_hint: {"center_x": 0.5, "center_y": 0.52}

            size_hint_x: 0.85
            line_color_focus: 0,0,0,1
            password: True

        GridLayout:
            cols: 2
            padding: 50

            MDFlatButton: 
                text: "Iniciar sesión"
                size_hint: .55, .08
                pos_hint: {"center_x": 0.5, "center_y": 0.25}  

                on_release: 
                    app.root.current = "Main"
                    root.manager.transition.direction = "left"                              
            
            MDFlatButton: 
                text: "Registrarse"
                size_hint: .55, .08
                pos_hint: {"center_x": 0.5, "center_y": 0.25}


<MainWindow>:
    name: "Main"

    MDNavigationLayout:
        orientation: 'vertical'
        
        MDTopAppBar:
            title: 'Test'
            left_action_items: [["menu", lambda x: app.navigation_draw()]]
            pos_hint: {"top": 1}
            elevation: 10
            on_action_button: app.callback_1(self.icon)

    

    GridLayout:
        cols: 1
        padding: 100,100
        spacing: 10
        pos_hint: {"center_x": 0.5, "center_y": 0.3}

                    
        MDRectangleFlatIconButton:
            icon: "android"
            text: "Descargar encuesta"
            on_release: 
                app.root.current = "Descargar"
                root.manager.transition.direction = "left"
            size_hint: None, None
            width: root.width*0.7       
            
                                  
        MDRectangleFlatIconButton:
            icon: "android"
            text: "Aplicar nueva encuesta"
            on_release: 
                app.root.current = "Aplicar"
                root.manager.transition.direction = "left"
            ssize_hint: None, None
            width: root.width*0.7  

        MDRectangleFlatIconButton:
            icon: "android"
            text: "Generar reportes"
            on_release: 
                app.root.current = "Generar"
                root.manager.transition.direction = "left"
            
            size_hint: None, None
            width: root.width*0.7  

        MDRectangleFlatIconButton:
            icon: "android"
            text: "Cerrar sesión"
            on_release: 
                app.root.current = "Cerrar" 
                root.manager.transition.direction = "left"
            size_hint: None, None
            width: root.width*0.7  

             
<DescargarWindow>:
    name: "Descargar"

    GridLayout:
        cols: 1
        padding: 150,100
        spacing: 10

        Button:
            text: "Cédula de evaluación de la salud"
            on_release: 
                app.root.current = "Main"
                root.manager.transition.direction = "right"
        Button:
            text: "Encuesta 2"
            on_release: 
                app.root.current = "Main"
                root.manager.transition.direction = "right"

<AplicarWindow>:
    name: "Aplicar"

    Button:
        text: "Go back 2"
        on_release: 
            app.root.current = "Main"
            root.manager.transition.direction = "right"


<GenerarWindow>:
    name: "Generar"

    Button:
        text: "Go back 3"
        on_release: 
            app.root.current = "Main"
            root.manager.transition.direction = "right"


<CerrarWindow>:
    name: "Cerrar"

    GridLayout:
        cols: 1
        padding: 150,100
        spacing: 10

        Button:
            text: "Go back 4"
            on_release: 
                app.root.current = "Main"
                root.manager.transition.direction = "right"